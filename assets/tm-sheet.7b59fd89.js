var e,r,o,t,a=Object.defineProperty,l=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,r,o)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,g=(e,r)=>{for(var o in r||(r={}))i.call(r,o)&&d(e,o,r[o]);if(s)for(var o of s(r))u.call(r,o)&&d(e,o,r[o]);return e},c=(e,r)=>l(e,n(r));import{K as h,g as b,L as f,M as p,d as m,c as y,y as v,o as C,a as k,b as S,e as T,i as x,D as w,E as D,u as B,n as $,f as A,B as R,l as F,_ as N,N as _,O as I,k as M,P as O,Q as L,R as V,r as E,S as j,T as H,A as W,w as z,U as P,V as G,W as J,X as U,G as q,h as K,x as Q}from"./index-6aad92d0.js";var X={rgbaToHsla(e){let{r:r,g:o,b:t,a:a}=e;r/=255,o/=255,t/=255;var l,n,s=Math.max(r,o,t),i=Math.min(r,o,t);return(l=s===i?0:s===r?60*(o-t)/(s-i):s===o?60*(2+(t-r)/(s-i)):60*(4+(r-o)/(s-i)))<0&&(l+=360),n=(s+i)/2,{h:l,s:100*(s===i?0:n<.5?(s-i)/(s+i):(s-i)/(2-s-i)),l:100*n,a:a}},hslaToRgba(e){let{h:r,s:o,l:t,a:a}=e;var l,n,s;if(r/=360,o/=100,t/=100,0===o)l=n=s=t;else{let e=function(e,r,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(r-e)*o:o<.5?r:o<2/3?e+(r-e)*(2/3-o)*6:e};var i=t<.5?t*(1+o):t+o-t*o,u=2*t-i;l=e(u,i,r+1/3),n=e(u,i,r),s=e(u,i,r-1/3)}return{r:Math.round(255*l),g:Math.round(255*n),b:Math.round(255*s),a:a}},cssToRgba:function(e){if(!e)return{r:0,g:0,b:0,a:0};if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){let r="#";for(let o=1;o<4;o+=1)r+=e.slice(o,o+1).concat(e.slice(o,o+1));e=r}let r=[];for(let o=1;o<7;o+=2)r.push(parseInt("0x"+e.slice(o,o+2)));return{r:r[0],g:r[1],b:r[2],a:1}}if(/^(rgb|RGB|rgba|RGBA)/.test(e)){let r=e.replace(/(?:\(|\)|rgba|rgb|RGB|RGBA)*/g,"").split(",").map((e=>Number(e)));return r.length<3?{r:0,g:0,b:0,a:1}:(3==r.length&&r.push(1),{r:r[0],g:r[1],b:r[2],a:r[3]})}return{r:0,g:0,b:0,a:1}},rgbaToHsva:function(e){if(!e)return{h:0,s:1,v:1,a:1};const r=e.r/255,o=e.g/255,t=e.b/255,a=Math.max(r,o,t),l=Math.min(r,o,t);let n=0;a!==l&&(a===r?n=60*(0+(o-t)/(a-l)):a===o?n=60*(2+(t-r)/(a-l)):a===t&&(n=60*(4+(r-o)/(a-l)))),n<0&&(n+=360);const s=[n,0===a?0:(a-l)/a,a];return{h:s[0],s:s[1],v:s[2],a:e.a}},hsvaToRgba:function(e){var r,o,t,a,l,{h:n,s:s,v:i,a:u}=e,d=0,g=0,c=0;switch(t=i*(1-s),a=i*(1-(o=6*n-(r=Math.floor(6*n)))*s),l=i*(1-(1-o)*s),r%6){case 0:d=i,g=l,c=t;break;case 1:d=a,g=i,c=t;break;case 2:d=t,g=i,c=l;break;case 3:d=t,g=a,c=i;break;case 4:d=l,g=t,c=i;break;case 5:d=i,g=t,c=a}return{r:d,g:g,b:c,a:u}},rgbaToCss:function(e){return`rgba(${e.r},${e.g},${e.b},${e.a})`}},Y=(e=>(e.left="left",e.right="right",e.bottom="bottom",e.top="top",e.leftright="x",e.topbottom="y",e.topleft="top-left",e.topright="top-right",e.bottomleft="bottom-left",e.bottomright="bottom-right",e.all="all",e))(Y||{}),Z=(e=>(e.left="to left",e.right="to right",e.top="to top",e.bottom="to bottom",e.none="",e))(Z||{}),ee=(e=>(e.light="light",e.dark="dark",e.accent="accent",e))(ee||{}),re=(e=>(e.solid="solid",e.dashed="dashed",e.dotted="dotted",e))(re||{});let oe=(null==(r=null==(e=null==uni?void 0:uni.$tm)?void 0:e.config)?void 0:r.theme)?g({},uni.$tm.config.theme):{};var te=[],ae=g({red:"#FE1C00",pink:"#CA145D",purple:"#A61BC3","deep-purple":"#6A0E81",indigo:"#652DF4",blue:"#0163FF","light-blue":"#0889FF",cyan:"#11CDE8",teal:"#00998a",green:"#5DBD1F","light-green":"#83D54A",lime:"#D4ED00",yellow:"#FFC400",amber:"#FFFB01",orange:"#FEA600","deep-orange":"#FE5C00",brown:"#795548","blue-grey":"#607D8B",grey:"#9E9E9E",black:"#000000",white:"#FFFFFF",primary:"#0163FF","grey-5":"#fafafa","grey-4":"#f5f5f5","grey-3":"#eeeeee","grey-2":"#e0e0e0","grey-1":"#bdbdbd","grey-darken-1":"#757575","grey-darken-2":"#616161","grey-darken-3":"#404044","grey-darken-4":"#202022","grey-darken-5":"#111112","grey-darken-6":"#0A0A0B"},oe);for(const $e in ae)if(Object.prototype.hasOwnProperty.call(ae,$e)){const e=String(ae[$e]);if(le(e)){let r=X.cssToRgba(e);te.push({name:$e,value:e,hsva:X.rgbaToHsva(X.cssToRgba(e)),rgba:X.cssToRgba(e),hsla:X.rgbaToHsla(r),csscolor:`rgba(${r.r},${r.g},${r.b},${r.a})`})}}function le(e){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)||/^(rgb|RGB|rgba|RGBA)/.test(e)}const ne={isCssColor:le,themeColors:class{constructor(e=te){var r;d(this,"symbol"!=typeof(r="colors")?r+"":r,[]),this.colors=e}hasColors(e=""){return this.colors.filter((function(r,o){return r.name==e})).length>0}add(e="",r=""){if(this.colors.filter((function(r,o){return r.name==e})).length>0)return this.colors;if(!r)return console.error("颜色值必填!!!"),this.colors;let o=X.cssToRgba(r),t={csscolor:"",hsva:{h:0,s:0,v:0,a:0},hsla:{h:0,s:0,l:0,a:0},rgba:{r:0,g:0,b:0,a:0},name:e,value:r};return t.csscolor=X.rgbaToCss(o),t.hsva=X.rgbaToHsva(o),t.rgba=o,t.hsla=X.rgbaToHsla(o),this.colors.push(t),this.colors}del(e){let r=this.colors.findIndex((function(r,o){return r.name==e}));-1!=r?this.colors.splice(r,1):console.error("删除失败，主题中不存在相关名称的主题。")}getColor(e){let r=this.colors.findIndex((function(r,o){return r.name==e}));return-1==r&&(e="primary",r=this.colors.findIndex((function(r,o){return r.name==e})),console.error("主题中不存在相关名称的主题。")),this.colors[r]}getTheme(e={colorname:"primary",dark:!1}){var r,o,t,a;e.colorname||(console.error("颜色名称必填"),e.colorname="primary");let l=this.colors.findIndex((r=>r.name==e.colorname));-1==l&&(console.error("主题不存在，默认为primary"),e.colorname="primary");let n=g({},this.colors[l]);function s(e,r,o){return(2126*e+7152*r+722*o)/1e4<180}e.borderWidth=isNaN(parseInt(String(e.borderWidth)))?0:null!=(r=e.borderWidth)?r:0,e.borderStyle=e.borderStyle?e.borderStyle:"solid",e.borderColor=e.borderColor||"",e.borderDirection=e.borderDirection||Y.all,e.linearDirection=e.linearDirection||Z.none,e.linearDeep=e.linearDeep||ee.light,e.shadow=isNaN(parseInt(String(e.shadow)))?6:e.shadow,e.round=isNaN(parseInt(String(e.round)))?4:e.round,e.opaticy=isNaN(parseInt(String(e.opaticy)))?1:e.opaticy,e.outlined="boolean"==typeof e.outlined&&e.outlined,e.text="boolean"==typeof e.text&&e.text,e.blur="boolean"==typeof e.blur&&e.blur;let i=!1,u=!1,d=!1,h=!1,b=!1;b=s(n.rgba.r,n.rgba.g,n.rgba.b),0==n.hsla.h&&0==n.hsla.s&&0==n.hsla.l&&(i=!0),0==n.hsla.h&&0==n.hsla.s&&100==n.hsla.l&&(u=!0),0==n.hsla.h&&0==n.hsla.s&&n.hsla.l<100&&(h=!0),0==n.hsla.h&&0==n.hsla.s&&(d=!0);let f={};f.color=n.value,f.config=g({},e),f.isBlackAndWhite=d,f.gradientColor=[],f.colorname=e.colorname;let p=g({},n.hsla);f.borderCss={};let m=g({},n.hsla);e.dark&&!d&&(m.l=40),e.blur&&(m.a=.85),f.backgroundColor=X.rgbaToCss(X.hslaToRgba(g({},m))),d&&e.dark&&(f.backgroundColor=X.rgbaToCss(X.hslaToRgba(c(g({},m),{h:240,s:3,l:8}))),f.border=X.rgbaToCss(X.hslaToRgba(c(g({},p),{h:240,s:3,l:12})))),u&&!e.dark&&(f.border=X.rgbaToCss(X.hslaToRgba(c(g({},p),{l:90})))),i&&!e.dark&&(f.border=X.rgbaToCss(X.hslaToRgba(c(g({},p),{l:12})))),f.backgroundColorCss={"background-color":f.backgroundColor};let y=g({},n.hsla);if(e.dark?y.l=95:y.l=b?95:h?10:20,e.outlined){y.l=n.hsla.l,e.dark?y.l=55:0==n.hsla.h||0==n.hsla.s||s(n.rgba.r,n.rgba.g,n.rgba.b)||(y.l=20),(i||u)&&e.dark&&(y.l=100),e.borderWidth=e.borderWidth||2;let r={h:n.hsla.h,s:n.hsla.s,l:0,a:0},o=X.rgbaToCss(X.hslaToRgba(r));f.backgroundColor=o,f.backgroundColorCss={"background-color":o},f.textColor=X.rgbaToCss(X.hslaToRgba(y))}if(e.text){y.l=n.hsla.l,h?y.l=15:0==n.hsla.h||0==n.hsla.s||s(n.rgba.r,n.rgba.g,n.rgba.b)||(y.l=20),e.dark&&(y.l=60,d||(y.s=100)),i&&(y.l=90),u&&(y.l=15),0==n.hsla.h&&0==n.hsla.s&&e.dark&&(y.l=90),f.textColor=X.rgbaToCss(X.hslaToRgba(y)),f.border=f.textColor;let r=n.csscolor,o={h:n.hsla.h,s:n.hsla.s,l:96,a:n.hsla.a};e.dark&&(0!=n.hsla.h&&0!=n.hsla.s?(o.l=12,o.s=35):(o.l=12,o.s=0)),e.blur&&(o.a=.85),r=X.rgbaToCss(X.hslaToRgba(o)),f.backgroundColor=r,f.backgroundColorCss={"background-color":r}}if(e.shadow){let r={h:n.hsla.h,s:100,l:50,a:.2};0==n.hsla.h&&0==n.hsla.s&&(r={h:0,s:0,l:20,a:.07});let o=X.rgbaToCss(X.hslaToRgba(r));f.shadowColor={boxShadow:`0rpx ${2.5*e.shadow}rpx ${6*e.shadow}rpx ${o}`}}if(e.linearDirection){let r={h:0,s:0,l:0,a:n.hsla.a},o={h:0,s:0,l:0,a:n.hsla.a},t=Z[e.linearDirection],a=0;a=n.hsla.h<180&&n.hsla.h>0?20:-37,0==n.hsla.h&&0==n.hsla.s&&100==n.hsla.l?"light"==e.linearDeep?(r.l=80,o.l=20):(r.l=50,o.l=40):0==n.hsla.h&&0==n.hsla.s&&0==n.hsla.l?"light"==e.linearDeep?(r.l=40,o.l=10):(r.l=30,o.l=0):(o.h=n.hsla.h,o.s=n.hsla.s,r.h=n.hsla.h,r.s=n.hsla.s,"light"==e.linearDeep?(r.h=r.h,r.s=90,r.l=70,o.l=44):"dark"==e.linearDeep?(o.s=90,o.l=26,r.s=90,r.l=50):"accent"==e.linearDeep&&(r.h-=0,r.s=90,r.l=54,o.h-=a,o.s=90,o.l=54)),e.dark&&(r.l=40,o.l=40,y.l=90);let l=X.rgbaToCss(X.hslaToRgba(r)),i=X.rgbaToCss(X.hslaToRgba(o));if(!e.text&&!e.outlined){f.backgroundColorCss={"background-image":`linear-gradient(${t},${l},${i})`};let a={h:(r.h+o.h)/2,s:(r.s+o.s)/2,l:(r.l+o.l)/2,a:(r.a+o.a)/2},u=X.hslaToRgba(a);e.dark||s(u.r,u.g,u.b)||0==n.hsla.h||0==n.hsla.s||(y.l=20),f.backgroundColor=X.rgbaToCss(X.hslaToRgba(a)),f.gradientColor=[l,i],f.linearDirectionStr=t}}1==e.dark&&(f=g(g({},f),null!=(a=null==(t=null==(o=uni.$tm.config)?void 0:o.themeConfig)?void 0:t.dark)?a:{})),f.textColor=X.rgbaToCss(X.hslaToRgba(y)),e.dark?0==n.hsla.h&&0==n.hsla.s?f.border=X.rgbaToCss(X.hslaToRgba(c(g({},n.hsla),{l:12}))):f.border=X.rgbaToCss(X.hslaToRgba(c(g({},n.hsla),{l:m.l+10}))):(0==n.hsla.h&&0==n.hsla.s||e.text&&e.outlined?f.border=X.rgbaToCss(X.hslaToRgba(c(g({},n.hsla),{l:90}))):!e.text&&e.outlined?f.border=X.rgbaToCss(X.hslaToRgba(g({},y))):!e.text&&!e.outlined&&e.borderWidth>0&&(f.border=X.rgbaToCss(X.hslaToRgba(c(g({},n.hsla),{l:m.l-3})))),f.border=e.borderColor||f.border);let v=`${e.borderWidth}rpx ${e.borderStyle} ${f.border}`;if("all"==e.borderDirection)f.borderCss.border=v;else if("x"==e.borderDirection||"leftright"==e.borderDirection)f.borderCss["border-left"]=v,f.borderCss["border-right"]=v;else if("y"==e.borderDirection||"topbottom"==e.borderDirection)f.borderCss["border-top"]=v,f.borderCss["border-bottom"]=v;else if("bottomleft"==e.borderDirection)f.borderCss["border-left"]=v,f.borderCss["border-bottom"]=v;else if("bottomright"==e.borderDirection)f.borderCss["border-right"]=v,f.borderCss["border-bottom"]=v;else if("topleft"==e.borderDirection)f.borderCss["border-left"]=v,f.borderCss["border-top"]=v;else if("topright"==e.borderDirection)f.borderCss["border-right"]=v,f.borderCss["border-top"]=v;else{let r="-"+e.borderDirection;f.borderCss[`border${r}`]=v}return f}},getColor:function(e){let r=te.findIndex((function(r,o){return r.name==e}));return-1==r&&(e="primary",r=te.findIndex((function(r,o){return r.name==e})),console.warn("主题中不存在相关名称的主题。")),te[r]}},se={_style:{type:[Array,String,Object],default:()=>[]},_class:{type:[Array,String],default:""},color:{type:String,default:"primary"},followTheme:{type:[Boolean,String],default:!1},dark:{type:[Boolean,String],default:!1},followDark:{type:[Boolean,String],default:!0},round:{type:[Number,Array],default:0},shadow:{type:[Number],default:0},outlined:{type:[Boolean],default:!1},border:{type:[Number],default:0},borderStyle:{type:String,default:re.solid},borderDirection:{type:String,default:Y.all},text:{type:[Boolean,String],default:!1},transprent:{type:[Boolean,String],default:!0},transparent:{type:[Boolean,String],default:!0},linear:{type:String,default:""},linearDeep:{type:String,default:"light"},linearColor:{type:[Array],default:()=>[]},isDisabledRoundAndriod:{type:[Boolean,String],default:!1},blur:{type:Boolean,default:!1},borderColor:{type:String,default:""}},ie=(e,r)=>{const o=e.followDark,t=e.dark,a=r.dark;return o?a:t},ue=e=>{const r=e._class;return"string"==typeof r?r:Array.isArray(r)?r.join(" "):""},de=e=>{const r=e._style;if("string"==typeof r){let e=r.split(";").map((e=>{let r={},o=(e=e.replace(";","")).split(":");return r[o[0]]=o[1],r})),o={};return e.forEach((e=>{o=g(g({},o),e)})),o}if("object"==typeof r&&!Array.isArray(r))return r;if("object"==typeof r&&Array.isArray(r)){let e={};return r.forEach((r=>{e=g(g({},e),r)})),e}return{}},ge=(e,r,o)=>{var t;const a=e.color,l=e.border,n=e.shadow,s=e.round,i=e.outlined,u=e.text,d=e.borderStyle,g=e.borderDirection,c=e.linear,h=e.linearDeep,b=e.blur;var f=null!=(t=null==e?void 0:e.borderColor)?t:"",p=new ne.themeColors(o.colorList);ne.isCssColor(a)&&!p.hasColors(a)&&(p=new ne.themeColors(p.add(a,a)));let m=a||"primary";return 1==(null==e?void 0:e.followTheme)&&o.color&&(m=o.color,f=""),p.getTheme({colorname:m,dark:r,borderWidth:l,shadow:parseInt(String(n)),round:parseInt(String(s)),outlined:!!i,text:!!u,borderStyle:d,borderDirection:g,linearDirection:c,linearDeep:h,blur:b,borderColor:f})};let ce=h("setTmVuetifyColor")||"",he=h("setTmVuetifyBlack"),be=h("setTmVuetifyLocal")||"zh-Hans",fe=h("colorArrayList"),pe="boolean"==typeof he&&he,me=new ne.themeColors;if(fe){const e=fe.filter((e=>me.colors.every((r=>r.name!==e.name))));me=new ne.themeColors([...me.colors,...e])}const ye=me.colors,ve=null!=(t=null==(o=b())?void 0:o.osName)?t:"";f("colorArrayList",ye);const Ce=p("tmpinia",{state:()=>({tmStore:{color:ce,dark:pe,tmVueTifly_pages:"",tmVueTifly_pagesIndex:"",os:ve,wxshareConfig_miniMp:{title:"",desc:"",imageUrl:"",path:"",copyLink:"",query:{}},colorList:ye,local:be}}),actions:{setPageNow(e){this.tmStore=c(g({},this.tmStore),{tmVueTifly_pages:e})},setPageNowIndex(e){this.tmStore=c(g({},this.tmStore),{tmVueTifly_pagesIndex:e})},setTmVuetifyDark(e){f("setTmVuetifyBlack",e="boolean"==typeof e&&e),this.tmStore=c(g({},this.tmStore),{dark:e})},setTmAutoDark(e=!1){if(f("setTmVuetifyAutoDark",e),this.tmuiConfig.autoDark=e,e){let e="";e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",this.setTmVuetifyDark("dark"==e)}},setWxShare(e){let r=e||{};("object"!=typeof r||Array.isArray(e))&&(r={}),this.tmStore=c(g({},this.tmStore),{wxshareConfig_miniMp:g(g({},this.tmStore.wxshareConfig_miniMp),r)})},setTmVuetifyTheme(e){let r=e;r&&""!=r&&!ne.isCssColor(r)||(r=""),f("setTmVuetifyColor",r),this.tmStore=c(g({},this.tmStore),{color:r})},setTmVuetifyAddTheme(e,r,o=!0){this.tmStore=c(g({},this.tmStore),{colorList:me.add(e,r)}),f("colorArrayList",this.tmStore.colorList),o&&this.setTmVuetifyTheme(e)},setTmLocal(e){f("setTmVuetifyLocal",e=e||"zh-Hans"),this.tmStore=c(g({},this.tmStore),{local:e})}}}),ke=N(m({__name:"tm-text",props:c(g({},se),{label:{type:[String,Number],default:""},fontSize:{type:[Number],default:28},color:{type:String,default:""},selectable:{type:[Boolean],default:!1},unit:{type:String,default:"rpx"},parentClass:{type:String,default:""},lineHeight:{type:[Number,String],default:"auto"}}),emits:["click"],setup(e,{emit:r}){const o=e,t=Ce(),a=y((()=>o.parentClass)),l=y((()=>t.tmStore)),n=y((()=>de(o))),s=y((()=>ue(o))),i=y((()=>ie(o,l.value))),u=y((()=>o.label)),d=y((()=>{var e,r,a;return Number(o.fontSize)*(null!=(a=null==(r=null==(e=null==t?void 0:t.tmuiConfig)?void 0:e.themeConfig)?void 0:r.globalFontSizeRatio)?a:1)})),g=v("appTextColor",y((()=>{}))),c=y((()=>{if(o.followTheme&&t.tmStore.color)return t.tmStore.color;let e=ne.isCssColor(o.color);if(e)return o.color;if(o.color&&!e){return ne.getColor(o.color).csscolor}return g?g.value?g.value:"rgba(34, 34, 34, 1.0)":i?"rgba(252, 252, 252, 1.0)":"rgba(34, 34, 34, 1.0)"}));return(t,l)=>{const i=R,g=F;return C(),k(g,{"render-whole":!0,class:$(["flex text-view nv",[B(a)]])},{default:S((()=>[T(i,{onClick:l[0]||(l[0]=e=>r("click",e)),selectable:e.selectable,"user-select":e.selectable,class:$([e.fontSize?"":"text-size-m",B(s)]),style:A(["auto"==o.lineHeight?{lineHeight:(B(d)?1.3*B(d):42)+o.unit}:{},o.lineHeight>0?{lineHeight:o.lineHeight+o.unit}:{},{color:B(c)},B(d)?{fontSize:B(d)+o.unit}:"",B(n)])},{default:S((()=>[x(t.$slots,"default",{},(()=>[w(D(B(u)),1)]),!0)])),_:3},8,["selectable","user-select","class","style"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-aa6b2cef"]]);function Se(e,r){return _(e)?r:e}const Te=e=>(r,o=M())=>{!V&&I(e,r,o)},xe=Te(O),we=Te(L),De=N(m({__name:"tm-app",props:c(g({},se),{transprent:{type:[Boolean,String],default:!1},transparent:{type:[Boolean,String],default:!1},theme:{type:String,default:"grey-5"},bgImg:{type:String,default:""},color:{type:String,default:"grey-4"},darkColor:{type:String,default:"#050505"},blur:{type:[Boolean,String],default:!1},navbar:{type:Object,default:()=>({background:"",fontColor:""})},showMenu:{type:Boolean,default:!1}}),emits:["update:showMenu"],setup(e,{expose:r,emit:o}){var t,a;const l=e,n=Ce(),s=null!=(a=null==(t=M())?void 0:t.proxy)?a:null,i=y((()=>n.tmStore)),u=E(!1),d=y((()=>i.value.dark)),g=y((()=>ge(l,d.value,i.value)));E(l.showMenu);const c=j(),h=E(c),b=y((()=>l.bgImg)),f=y((()=>l.transparent||l.transprent));window.addEventListener("resize",(()=>{!function(e,r=100,o=!1){o?v||(v=!0,"function"==typeof e&&e(),setTimeout((()=>{v=!1}),r)):v||(v=!0,setTimeout((()=>{v=!1,"function"==typeof e&&e()}),r))}((()=>{h.value=j()}))}));const p=E(c.width);let m=E(c.height),v=!1,D=!1,$=H().pop();y((()=>!0===l.blur&&d.value?"dark":!0!==l.blur||d.value?"none":"extralight"));let N=E({width:p,height:m,theme:g.value.backgroundColor,bgImg:l.bgImg,dark:d.value});function _(){var e,r,o;if(d.value?N.value.theme=(null==(o=null==(r=null==(e=n.tmuiConfig)?void 0:e.themeConfig)?void 0:r.dark)?void 0:o.bodyColor)||l.darkColor:N.value.theme=g.value.backgroundColor,document.body.style.background=N.value.theme||"",localStorage.setItem("tmuiNavStyle",JSON.stringify({navbarBackground:d.value?N.value.theme:l.navbar.background,navbarFontColor:d.value?"#ffffff":l.navbar.fontColor})),d.value){try{uni.$tm.isOpenDarkModel||P({backgroundColor:"#000000",frontColor:"#ffffff"}).catch((e=>{}))}catch(t){}D&&-1==uni.$tm.tabBar.selectedColor.indexOf("@")&&G({backgroundColor:"#141415",borderStyle:"black",color:"#ffffff",selectedColor:uni.$tm.tabBar.selectedColor||g.value.textColor}).catch((e=>{}))}else{try{let e=uni.$tm.pages.filter((e=>e.path==(null==$?void 0:$.route)));if(e.length>0&&!l.navbar.background){if(e[0].navigationBarTextStyle.indexOf("@")>-1)return;let r=e[0].navigationBarTextStyle;r=r.toLocaleLowerCase(),r="black"==r?"#000000":r,r="white"==r?"#ffffff":r,P({backgroundColor:e[0].navigationBarBackgroundColor,frontColor:r}).catch((e=>{})),J("tmuiNavStyle",JSON.stringify({navbarBackground:e[0].navigationBarBackgroundColor,navbarFontColor:r}))}else uni.$tm.isOpenDarkModel||(P({backgroundColor:l.navbar.background,frontColor:l.navbar.fontColor}).catch((e=>{})),J("tmuiNavStyle",JSON.stringify({navbarBackground:l.navbar.background,navbarFontColor:l.navbar.fontColor})))}catch(t){}try{D&&!uni.$tm.isOpenDarkModel&&G({backgroundColor:uni.$tm.tabBar.backgroundColor||l.navbar.background,borderStyle:uni.$tm.tabBar.borderStyle||"white",color:uni.$tm.tabBar.color||l.navbar.fontColor,selectedColor:uni.$tm.tabBar.selectedColor||g.value.textColor}).catch((e=>{}))}catch(t){}}u.value=!0}function I(e){let r=!d.value;void 0!==e&&"boolean"==typeof e&&(r=e),N.value.dark=r,n.setTmVuetifyDark(r),_()}we((e=>{var r,o;try{null==(o=n.tmuiConfig.router)||o.useTmRouterAfter({path:null!=(r=null==$?void 0:$.route)?r:"",opts:e,context:null!=s?s:null})}catch(t){}})),W((()=>{!function(){var e,r;let o=null!=(r=null==(e=uni.$tm.tabBar)?void 0:e.list)?r:[];for(let t=0;t<o.length;t++)if((null==$?void 0:$.route)==o[t].pagePath){D=!0;break}n.tmuiConfig.autoDark?window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light"):_()}(),h.value=j()})),z([()=>i.value.color,d],(()=>{u.value=!1,_()})),z([()=>l.color],(()=>{N.value.theme=g.value.backgroundColor}));try{U((e=>{O(e.theme)}))}catch(L){console.warn("没有主题切换功能：",L)}function O(e){n.tmuiConfig.autoDark&&("light"===e?I(!1):"dark"===e&&I(!0))}return q("tmuiSysInfo",y((()=>h.value))),q("appTextColor",y((()=>g.value.textColor))),q("custom_space_size",[0,0]),r({setTheme:function(e){n.setTmVuetifyTheme(e)},setDark:I}),(e,r)=>{const o=R,t=F;return C(),k(t,{class:"flex relative app flex-1",style:A([B(N).theme?{background:B(f)?"":B(N).theme}:"",B(b)?{backgroundImage:`url(${B(b)})`}:""])},{default:S((()=>[x(e.$slots,"default",{},(()=>[T(o,null,{default:S((()=>[w("在这里放置内容")])),_:1})]),!0)])),_:3},8,["style"])}}}),[["__scopeId","data-v-7a026dda"]]),Be=N(m({__name:"tm-sheet",props:c(g({},se),{parenClass:{type:String,default:""},contStyle:{type:String,default:""},height:{type:[Number],default:0},width:{type:[Number],default:0},color:{type:String,default:"white"},transprent:{type:[Boolean,String],default:!1},border:{type:[Number,String],default:0},margin:{type:Array,default:()=>[32]},padding:{type:Array,default:()=>[24]},unit:{type:String,default:"rpx"},hoverClass:{type:String,default:"none"},darkBgColor:{type:String,default:""},noLevel:{type:Boolean,default:!1},blur:{type:Boolean,default:!1},url:{type:String,default:""},round:{type:[Number,Array],default:0}}),emits:["click","longpress","touchend","touchstart","touchcancel","mousedown","mouseup","mouseleave"],setup(e,{emit:r}){var o;const t=e,a=Ce();null==(o=M())||o.proxy;const l=y((()=>t.parenClass)),n=y((()=>t.contStyle)),s=y((()=>t.transprent)),i=y((()=>a.tmStore)),u=y((()=>("android"!=i.value.os||!b.value)&&t.blur)),d=y((()=>de(t))),g=y((()=>ue(t))),c=y((()=>ie(t,i.value))),h=y((()=>{let e=t.text;u.value&&"ios"==i.value.os&&b.value&&(e=!0);let r=uni.$tm.u.deepClone(t);const o=uni.$tm.u.deepObjectMerge(r,{blur:u.value,text:e});return ge(o,c.value,i.value)})),b=E(!1),f=y((()=>1==t.margin.length?[t.margin[0],t.margin[0],t.margin[0],t.margin[0]]:2==t.margin.length?[t.margin[0],t.margin[1],t.margin[0],t.margin[1]]:3==t.margin.length?[t.margin[0],t.margin[1],t.margin[2],0]:4==t.margin.length?[t.margin[0],t.margin[1],t.margin[2],t.margin[3]]:[0,0,0,0])),p=y((()=>1==t.padding.length?[t.padding[0],t.padding[0],t.padding[0],t.padding[0]]:2==t.padding.length?[t.padding[0],t.padding[1],t.padding[0],t.padding[1]]:3==t.padding.length?[t.padding[0],t.padding[1],t.padding[2],0]:4==t.padding.length?[t.padding[0],t.padding[1],t.padding[2],t.padding[3]]:[0,0,0,0])),m=y((()=>"number"==typeof t.round||1==t.round.length?"round-"+t.round:2==t.round.length?`round-tl-${t.round[0]} round-tr-${t.round[1]}`:3==t.round.length?`round-tl-${t.round[0]} round-tr-${t.round[1]} round-br-${t.round[2]} `:4==t.round.length?`round-tl-${t.round[0]} round-tr-${t.round[1]} round-br-${t.round[2]}  round-bl-${t.round[2]}`:[0,0,0,0])),v=y((()=>t.width+p.value[0]+p.value[2])),w=y((()=>t.height+p.value[1]+p.value[3])),D=y((()=>t.width)),R=y((()=>t.height)),N=y((()=>t.noLevel)),_=E(!0),I=y((()=>!0===t.blur&&c.value?"dark":!0!==t.blur||c.value?"none":"extralight"));z((()=>c.value),(()=>{}));const O=y((()=>{var e;return!0===s.value?"background-color:rgba(255,255,255,0);":""!==t.darkBgColor&&!0===c.value?`background-color:${t.darkBgColor};`:2==t.linearColor.length?{"background-image":`linear-gradient(${h.value.linearDirectionStr},${t.linearColor[0]},${t.linearColor[1]})`}:2==(null==(e=h.value.gradientColor)?void 0:e.length)?h.value.backgroundColorCss:N.value&&!0===h.value.isBlackAndWhite&&!0===c.value?`background-color: ${h.value.inputcolor}`:`background-color: ${h.value.backgroundColor}`})),L=E(!1);function V(e){L.value=!0,r("longpress",e)}function j(e){L.value=!0,r("touchstart",e)}function H(e){L.value=!1,r("touchend",e)}function W(e){L.value=!1,r("touchcancel",e)}function P(e){L.value=!0,r("mousedown",e)}function G(e){L.value=!1,r("mouseup",e)}function J(e){L.value=!1,r("mouseleave",e)}function U(e){r("click",e),"string"==typeof t.url&&t.url&&Q({url:t.url,fail(e){console.log(e)}})}y((()=>{let e=parseFloat(String(v.value))-parseFloat(String(t.padding[0]));return e-=2*parseFloat(String(t.border)),e})),y((()=>{let e=parseFloat(String(w.value))-parseFloat(String(t.padding[1]));return e-=2*parseFloat(String(t.border)),e}));let X=y((()=>h.value.textColor));return q("appTextColor",X),(e,r)=>{const o=F;return _.value?(C(),k(o,{key:0,"hover-class":(t.url?" opacity-7 ":"  ")+t.hoverClass,blurEffect:B(I),onClick:U,onLongpress:V,onTouchend:H,onTouchstart:j,onTouchcancel:W,onMousedown:P,onMouseup:G,onMouseleave:J,class:$(["flex flex-col noNvueBorder",B(l),e.isDisabledRoundAndriod?"":B(m)]),style:A([{marginLeft:B(f)[0]+"rpx",marginTop:B(f)[1]+"rpx",marginRight:B(f)[2]+"rpx",marginBottom:B(f)[3]+"rpx",paddingLeft:B(p)[0]+"rpx",paddingTop:B(p)[1]+"rpx",paddingRight:B(p)[2]+"rpx",paddingBottom:B(p)[3]+"rpx"},B(R)?{height:B(w)+t.unit}:"",B(D)?{width:B(v)+t.unit}:"",B(h).borderCss,B(u)&&"ios"==B(a).tmStore.os&&!0===b.value?"":B(O),!B(s)&&t.shadow>0?B(h).shadowColor:"",!B(s)&&B(u)?{backdropFilter:"blur(6px)"}:"",B(d)])},{default:S((()=>[T(o,{class:$(["flex noNvueBorder flex-col flex-1",B(g)]),style:A(B(n))},{default:S((()=>[x(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["hover-class","blurEffect","class","style"])):K("v-if",!0)}}}),[["__scopeId","data-v-dfb67ac0"]]);export{Be as a,de as b,se as c,ue as d,ie as e,ge as f,De as g,ne as h,xe as i,we as o,Se as r,ke as t,Ce as u};
